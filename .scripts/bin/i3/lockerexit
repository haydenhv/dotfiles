#!/bin/bash
socket1="$1"
socket2="$2"

i3lock=$(ps -e | grep 'i3lock')
until [ "$i3lock" == "" ]
do
	sleep 0.5
	i3lock=$(ps -e | grep 'i3lock')
done

state=$(cat ~/.cache/socket | awk '/:/')
state1=$(echo "$state" | head -n -1 | awk '{print $2}')
echo $state1
state2=$(echo "$state" | tail +2 | awk '{print $2}')
echo $state2

if [ "$state1" == "playing" ]
then
	hmpv unpause $socket1
elif [ "$state2" == "playing" ]
then
	hmpv unpause $socket2
else
	echo "None playing, starting first socket..."
	hmpv unpause $socket1
fi
